var rigmarole=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var s=function(t){return t&&t.__esModule?t:{default:t}}(r(1)).default.static;function a(t,e){return s.setIn(e,t.keyPath,s(t.value))}function u(t,e){var r=l(t),n=r[0],i=null;if(1===r.length)i=e[n];else if(r.length>1){i=u(r.slice(1,r.length),e[n])}return i}function c(){var t=Array.prototype.slice.call(arguments,0,arguments.length-1),e=void 0;e=1===t.length?t[0]:t;var r=arguments[arguments.length-1];return{keyPath:l(e),value:r}}function l(t){var e=[];return"string"!=typeof arguments&&arguments.length>1?e=Array.prototype.slice.call(arguments,0):"string"!=typeof t&&t.length?e=t:"string"==typeof t&&(e=t.split(/,|\./)),e}function h(t){return l(t).join(".")}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset(),this._maxSize=e||1e3}return i(t,[{key:"getIndex",value:function(){return this._historyIndex}},{key:"hasUndo",value:function(){return this._historyIndex>0}},{key:"hasRedo",value:function(){return this._historyIndex<this._history.length-1}},{key:"operation",value:function(t,e){this._history=this._history.slice(0,this._historyIndex+1);var r=e((this._history[this._historyIndex]||{}).data||new s({}));return this._history.push({keyPaths:[h(t)],data:s.isImmutable(r)?r:s(r)}),this._history.length<=this._maxSize?this._historyIndex++:this._history=this._history.slice(1),h(t)}},{key:"mutateOperation",value:function(t,e){var r=this._history[this._historyIndex]||{},n=e(r.data||new s({})),i=h(t),a=-1===r.keyPaths.indexOf(i)?[].concat(o(r.keyPaths),[i]):r.keyPaths;return this._history.splice(this._historyIndex,1,{keyPaths:a,data:s.isImmutable(n)?n:s(n)}),h(t)}},{key:"ingest",value:function(t){this.operation("",function(){return new s(t)})}},{key:"setDirty",value:function(){this._isDirty=!0}},{key:"clearDirty",value:function(){this._isDirty=!1}},{key:"set",value:function(t,e){var r=c(t,e);return!0===this._isDirty?(this.clearDirty(),this.mutateOperation(r.keyPath,function(t){return a(r,t)})):this.operation(r.keyPath,function(t){return a(r,t)})}},{key:"replace",value:function(t,e){var r=c(t,e);return!1===this._isDirty?(this.setDirty(),this.operation(r.keyPath,function(t){return a(r,t)})):this.mutateOperation(r.keyPath,function(t){return a(r,t)})}},{key:"delete",value:function(t){var e=l(t);return this.operation(e,function(t){return function(t,e){var r=t.slice(0,t.length-1),n=t.slice(t.length-1)[0],i=function(t){return t==t}(parseFloat(n))?parseFloat(n):n,l=u(r,e);return a(c(r,Array.isArray(l)?[].concat(o(l.slice(0,i)),o(l.slice(i+1,l.length))):s.without(l,i)),e)}(e,t)})}},{key:"get",value:function(t){var e=l(t),r=e[0],n=null;if(1===e.length)n=this._history[this._historyIndex]?this._history[this._historyIndex].data[r]:null;else if(e.length>1){var i=e.slice(1,e.length);n=this._history[this._historyIndex]?u(i,this._history[this._historyIndex].data[r]):null}return n}},{key:"getMutable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deep:!0},r=this.get(t);return r&&"object"===(void 0===r?"undefined":n(r))?s.asMutable(r,e):r}},{key:"undo",value:function(){var t=[];return this._historyIndex>0?(t=this._history[this._historyIndex].keyPaths,this._historyIndex--):console.warn("Reached as far back as possible."),t}},{key:"redo",value:function(){var t=[];return this._historyIndex<this._history.length-1?(this._historyIndex++,t=this._history[this._historyIndex].keyPaths):console.warn("Latest state."),t}},{key:"reset",value:function(){this._history=[],this._historyIndex=-1,this._isDirty=!1}}]),t}();e.default=f},function(t,e,r){var n;!function(){"use strict";var i=function t(e){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n=60103,i={use_static:!1};function o(t){var e=Object.getPrototypeOf(t);return e?Object.create(e):{}}function s(t,e,r){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!1,value:r})}function a(t,e){s(t,e,function(){throw new v("The "+e+" method cannot be invoked on an Immutable data structure.")})}(function(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t})(e)&&void 0!==e.use_static&&(i.use_static=Boolean(e.use_static));var u="__immutable_invariants_hold";function c(t){return"object"!=typeof t||null===t||Boolean(Object.getOwnPropertyDescriptor(t,u))}function l(t,e){return t===e||t!=t&&e!=e}function h(t){return!(null===t||"object"!=typeof t||Array.isArray(t)||t instanceof Date)}var f=["setPrototypeOf"],y=f.concat(["push","pop","sort","splice","shift","unshift","reverse"]),p=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),d=f.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function v(t){this.name="MyError",this.message=t,this.stack=(new Error).stack}function b(t,e){for(var r in function(t){s(t,u,!0)}(t),e)e.hasOwnProperty(r)&&a(t,e[r]);return Object.freeze(t),t}function g(t,e){var r=t[e];s(t,e,function(){return Y(r.apply(t,arguments))})}function m(t,e,r){var n=r&&r.deep;if(t in this&&(n&&this[t]!==e&&h(e)&&h(this[t])&&(e=Y.merge(this[t],e,{deep:!0,mode:"replace"})),l(this[t],e)))return this;var i=k.call(this);return i[t]=Y(e),O(i)}v.prototype=new Error,v.prototype.constructor=Error;var _=Y([]);function w(t,e,r){var n=t[0];if(1===t.length)return m.call(this,n,e,r);var i,o=t.slice(1),s=this[n];if("object"==typeof s&&null!==s)i=Y.setIn(s,o,e);else{var a=o[0];i=""!==a&&isFinite(a)?w.call(_,o,e):E.call(T,o,e)}if(n in this&&s===i)return this;var u=k.call(this);return u[n]=i,O(u)}function O(t){for(var e in p)p.hasOwnProperty(e)&&g(t,p[e]);i.use_static||(s(t,"flatMap",j),s(t,"asObject",x),s(t,"asMutable",k),s(t,"set",m),s(t,"setIn",w),s(t,"update",U),s(t,"updateIn",z),s(t,"getIn",B));for(var r=0,n=t.length;r<n;r++)t[r]=Y(t[r]);return b(t,y)}function I(){return new Date(this.getTime())}function j(t){if(0===arguments.length)return this;var e,r=[],n=this.length;for(e=0;e<n;e++){var i=t(this[e],e,this);Array.isArray(i)?r.push.apply(r,i):r.push(i)}return O(r)}function P(t){if(void 0===t&&0===arguments.length)return this;if("function"!=typeof t){var e=Array.isArray(t)?t.slice():Array.prototype.slice.call(arguments);e.forEach(function(t,e,r){"number"==typeof t&&(r[e]=t.toString())}),t=function(t,r){return-1!==e.indexOf(r)}}var r=o(this);for(var n in this)this.hasOwnProperty(n)&&!1===t(this[n],n)&&(r[n]=this[n]);return H(r)}function k(t){var e,r,n=[];if(t&&t.deep)for(e=0,r=this.length;e<r;e++)n.push(A(this[e]));else for(e=0,r=this.length;e<r;e++)n.push(this[e]);return n}function x(t){"function"!=typeof t&&(t=function(t){return t});var e,r={},n=this.length;for(e=0;e<n;e++){var i=t(this[e],e,this),o=i[0],s=i[1];r[o]=s}return H(r)}function A(t){return!t||"object"!=typeof t||!Object.getOwnPropertyDescriptor(t,u)||t instanceof Date?t:Y.asMutable(t,{deep:!0})}function D(t,e){for(var r in t)Object.getOwnPropertyDescriptor(t,r)&&(e[r]=t[r]);return e}function M(t,e){if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(t));var r,n,i=Array.isArray(t),s=e&&e.deep,a=e&&e.mode||"merge",u=e&&e.merger;function c(t,n,i){var a,c=Y(n[i]),f=u&&u(t[i],c,e),y=t[i];void 0===r&&void 0===f&&t.hasOwnProperty(i)&&l(c,y)||l(y,a=f||(s&&h(y)&&h(c)?Y.merge(y,c,e):c))&&t.hasOwnProperty(i)||(void 0===r&&(r=D(t,o(t))),r[i]=a)}if(i)for(var f=0,y=t.length;f<y;f++){var p=t[f];for(n in p)p.hasOwnProperty(n)&&c(void 0!==r?r:this,p,n)}else{for(n in t)Object.getOwnPropertyDescriptor(t,n)&&c(this,t,n);"replace"===a&&function(t,e){for(var n in t)e.hasOwnProperty(n)||(void 0===r&&(r=D(t,o(t))),delete r[n])}(this,t)}return void 0===r?this:H(r)}function S(t,e){var r=e&&e.deep;if(0===arguments.length)return this;if(null===t||"object"!=typeof t)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(t));return Y.merge(this,t,{deep:r,mode:"replace"})}var T=Y({});function E(t,e,r){if(!Array.isArray(t)||0===t.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=t[0];if(1===t.length)return C.call(this,n,e,r);var i,s=t.slice(1),a=this[n];if(i=this.hasOwnProperty(n)&&"object"==typeof a&&null!==a?Y.setIn(a,s,e):E.call(T,s,e),this.hasOwnProperty(n)&&a===i)return this;var u=D(this,o(this));return u[n]=i,H(u)}function C(t,e,r){var n=r&&r.deep;if(this.hasOwnProperty(t)&&(n&&this[t]!==e&&h(e)&&h(this[t])&&(e=Y.merge(this[t],e,{deep:!0,mode:"replace"})),l(this[t],e)))return this;var i=D(this,o(this));return i[t]=Y(e),H(i)}function U(t,e){var r=Array.prototype.slice.call(arguments,2),n=this[t];return Y.set(this,t,e.apply(n,[n].concat(r)))}function F(t,e){for(var r=0,n=e.length;null!=t&&r<n;r++)t=t[e[r]];return r&&r==n?t:void 0}function z(t,e){var r=Array.prototype.slice.call(arguments,2),n=F(this,t);return Y.setIn(this,t,e.apply(n,[n].concat(r)))}function B(t,e){var r=F(this,t);return void 0===r?e:r}function R(t){var e,r=o(this);if(t&&t.deep)for(e in this)this.hasOwnProperty(e)&&(r[e]=A(this[e]));else for(e in this)this.hasOwnProperty(e)&&(r[e]=this[e]);return r}function $(){return{}}function H(t){return i.use_static||(s(t,"merge",M),s(t,"replace",S),s(t,"without",P),s(t,"asMutable",R),s(t,"set",C),s(t,"setIn",E),s(t,"update",U),s(t,"updateIn",z),s(t,"getIn",B)),b(t,f)}function Y(t,e,o){if(c(t)||function(t){return"object"==typeof t&&null!==t&&(t.$$typeof===n||t.$$typeof===r)}(t)||function(t){return"undefined"!=typeof File&&t instanceof File}(t)||function(t){return"undefined"!=typeof Blob&&t instanceof Blob}(t)||function(t){return t instanceof Error}(t))return t;if(function(t){return"object"==typeof t&&"function"==typeof t.then}(t))return t.then(Y);if(Array.isArray(t))return O(t.slice());if(t instanceof Date)return function(t){return i.use_static||s(t,"asMutable",I),b(t,d)}(new Date(t.getTime()));var a=e&&e.prototype,u=(a&&a!==Object.prototype?function(){return Object.create(a)}:$)();if(null==o&&(o=64),o<=0)throw new v("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var l in o-=1,t)Object.getOwnPropertyDescriptor(t,l)&&(u[l]=Y(t[l],void 0,o));return H(u)}function J(t){return function(){var e=[].slice.call(arguments),r=e.shift();return t.apply(r,e)}}function N(t,e){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?e.apply(n,r):t.apply(n,r)}}return Y.from=Y,Y.isImmutable=c,Y.ImmutableError=v,Y.merge=J(M),Y.replace=J(S),Y.without=J(P),Y.asMutable=function(t,e,r){return function(){var n=[].slice.call(arguments),i=n.shift();return Array.isArray(i)?e.apply(i,n):i instanceof Date?r.apply(i,n):t.apply(i,n)}}(R,k,I),Y.set=N(C,m),Y.setIn=N(E,w),Y.update=J(U),Y.updateIn=J(z),Y.getIn=J(B),Y.flatMap=J(j),Y.asObject=J(x),i.use_static||(Y.static=t({use_static:!0})),Object.freeze(Y),Y}();void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}()}]).default;